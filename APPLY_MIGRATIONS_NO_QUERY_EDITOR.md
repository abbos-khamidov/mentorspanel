# –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –±–µ–∑ Query Editor –≤ Railway

## üîç –ü—Ä–æ–±–ª–µ–º–∞
–í Railway PostgreSQL —Å–µ—Ä–≤–∏—Å–µ –Ω–µ—Ç Query Editor –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL –Ω–∞–ø—Ä—è–º—É—é.

## ‚úÖ –†–µ—à–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É "Connect" ‚≠ê –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞

–í Railway Dashboard ‚Üí PostgreSQL ‚Üí Database:
1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Connect"** (—Å –∏–∫–æ–Ω–∫–æ–π –º–æ–ª–Ω–∏–∏) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ —Ç–∞–º –æ–ø—Ü–∏—è –¥–ª—è SQL Editor –∏–ª–∏ psql
3. –ï—Å–ª–∏ –µ—Å—Ç—å - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—ë –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π PostgreSQL –∫–ª–∏–µ–Ω—Ç

–ï—Å–ª–∏ –µ—Å—Ç—å `DATABASE_PUBLIC_URL` –≤ PostgreSQL —Å–µ—Ä–≤–∏—Å–µ:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL –∫–ª–∏–µ–Ω—Ç** (–µ—Å–ª–∏ –Ω–µ—Ç):
   - Windows: https://www.postgresql.org/download/windows/
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–Ω–ª–∞–π–Ω —Ä–µ–¥–∞–∫—Ç–æ—Ä: https://www.pgadmin.org/

2. **–ü–æ–ª—É—á–∏—Ç–µ DATABASE_PUBLIC_URL:**
   - Railway Dashboard ‚Üí PostgreSQL ‚Üí Variables
   - –ù–∞–π–¥–∏—Ç–µ `DATABASE_PUBLIC_URL`
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–∞–∂–º–∏—Ç–µ "show" —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å)

3. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å —á–µ—Ä–µ–∑ psql –∏–ª–∏ –∫–ª–∏–µ–Ω—Ç:**
   ```powershell
   # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ DATABASE_PUBLIC_URL –∏–∑ Railway
   psql "postgresql://postgres:–ø–∞—Ä–æ–ª—å@tramway.proxy.rlwy.net:46825/railway"
   ```

4. **–í psql –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∏–∑ DEPLOY_SQL.sql** (—Å—Ç—Ä–æ–∫–∏ 5-108)

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–∑–¥–∞—Ç—å API endpoint –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π (–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)

–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π API endpoint –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π:

1. –°–æ–∑–¥–∞—Ç—å `src/app/api/migrate/route.ts`
2. –í endpoint –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL –∏–∑ DEPLOY_SQL.sql
3. –í—ã–∑–≤–∞—Ç—å endpoint –æ–¥–∏–Ω —Ä–∞–∑ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ curl
4. –£–¥–∞–ª–∏—Ç—å endpoint –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

---

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Railway CLI –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```powershell
# –°–Ω–∞—á–∞–ª–∞ –Ω–∞–π–¥–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è —Å–µ—Ä–≤–∏—Å–∞
railway link

# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ PostgreSQL (–º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –µ—Å–ª–∏ Railway CLI –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç)
railway connect <–∏–º—è-postgres-—Å–µ—Ä–≤–∏—Å–∞>
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 5: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ start —Å–∫—Ä–∏–ø—Ç (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ) ‚≠ê –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

–ò–∑–º–µ–Ω–∏—Ç—å `package.json` —á—Ç–æ–±—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è–ª–∏—Å—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:

```json
"scripts": {
  "start": "node -e \"require('child_process').execSync('prisma migrate deploy', {stdio: 'inherit'})\" && next start"
}
```

–ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä–∏—Ç –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏.

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –í–∞—Ä–∏–∞–Ω—Ç 1** (–∫–Ω–æ–ø–∫–∞ Connect) - –≤–æ–∑–º–æ–∂–Ω–æ —Ç–∞–º –µ—Å—Ç—å SQL Editor –∏–ª–∏ psql –¥–æ—Å—Ç—É–ø.

–ï—Å–ª–∏ –Ω–µ—Ç - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–í–∞—Ä–∏–∞–Ω—Ç 5** (—á–µ—Ä–µ–∑ start —Å–∫—Ä–∏–ø—Ç) - –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
